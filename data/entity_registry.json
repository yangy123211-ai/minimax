{
  "version": "1.0",
  "description": "数据实体目录 - 描述系统中已存在的数据实体，供开发者参考",
  "note": "此目录不是 SQL Schema，子程序不得通过此目录绕过 Data API",
  "table_name_rule": "表名自动生成规则：EntityName -> snake_case + 's' (如 TaskEntity -> task_entities)。可在实体中指定 table_name 字段覆盖默认值。",
  "entities": [
    {
      "name": "TaskEntity",
      "table_name": "tasks",
      "description": "任务实体，表示用户需要完成的工作项",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "description": "唯一标识符",
          "readable": true,
          "writable": false
        },
        {
          "name": "title",
          "type": "string",
          "description": "任务标题",
          "readable": true,
          "writable": true,
          "required": true
        },
        {
          "name": "description",
          "type": "string",
          "description": "任务详细描述",
          "readable": true,
          "writable": true,
          "required": false
        },
        {
          "name": "status",
          "type": "string",
          "description": "任务状态：pending(待处理)/in_progress(进行中)/completed(已完成)",
          "readable": true,
          "writable": true,
          "required": true,
          "default": "pending"
        },
        {
          "name": "priority",
          "type": "integer",
          "description": "优先级，数值越大优先级越高",
          "readable": true,
          "writable": true,
          "required": true,
          "default": 0
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "创建时间",
          "readable": true,
          "writable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "description": "最后更新时间",
          "readable": true,
          "writable": false
        }
      ],
      "operations": ["read", "write", "update", "delete"],
      "notes": [
        "所有子程序都可以读取任务数据",
        "多个子程序可能同时写入任务数据",
        "不建议假设某个任务'归自己所有'"
      ]
    },
    {
      "name": "NoteEntity",
      "table_name": "notes",
      "description": "笔记实体，表示用户保存的笔记或备忘",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "description": "唯一标识符",
          "readable": true,
          "writable": false
        },
        {
          "name": "title",
          "type": "string",
          "description": "笔记标题",
          "readable": true,
          "writable": true,
          "required": true
        },
        {
          "name": "content",
          "type": "string",
          "description": "笔记内容",
          "readable": true,
          "writable": true,
          "required": false
        },
        {
          "name": "category",
          "type": "string",
          "description": "分类标签",
          "readable": true,
          "writable": true,
          "required": false
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "创建时间",
          "readable": true,
          "writable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "description": "最后更新时间",
          "readable": true,
          "writable": false
        }
      ],
      "operations": ["read", "write", "update", "delete"],
      "notes": [
        "笔记数据可被多个子程序访问",
        "建议使用 category 字段进行分类管理"
      ]
    },
    {
      "name": "TimerReminderEntity",
      "table_name": "timer_reminders",
      "description": "定时提醒实体，存储用户设置的触发规则和运行状态",
      "fields": [
        {
          "name": "id",
          "type": "integer",
          "description": "唯一标识符（固定为1，单条记录）",
          "readable": true,
          "writable": false
        },
        {
          "name": "minute_cycle",
          "type": "integer",
          "description": "分钟周期（取模用）",
          "readable": true,
          "writable": true,
          "required": true,
          "default": 1
        },
        {
          "name": "minute_remainder",
          "type": "integer",
          "description": "分钟余数",
          "readable": true,
          "writable": true,
          "required": true,
          "default": 0
        },
        {
          "name": "second",
          "type": "integer",
          "description": "触发秒数（0-59）",
          "readable": true,
          "writable": true,
          "required": true,
          "default": 0
        },
        {
          "name": "is_active",
          "type": "boolean",
          "description": "是否已确认生效",
          "readable": true,
          "writable": true,
          "required": true,
          "default": false
        },
        {
          "name": "is_running",
          "type": "boolean",
          "description": "是否正在运行",
          "readable": true,
          "writable": true,
          "required": true,
          "default": false
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "description": "创建时间",
          "readable": true,
          "writable": false
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "description": "最后更新时间",
          "readable": true,
          "writable": false
        }
      ],
      "operations": ["read", "write", "update", "delete"],
      "notes": [
        "系统中只有一条定时提醒规则记录（id=1）",
        "规则配置后需要调用 confirm_rule 才会生效",
        "应用启动时会自动加载数据库中的规则和状态"
      ]
    }
  ]
}
